(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{ZQL7:function(t,e,i){"use strict";i.r(e),i.d(e,"CconconferencistvalidationpointModule",function(){return x});var a=i("ofXK"),n=i("3Pt+"),o=i("1kSV"),r=i("tmjD"),c=i("tyNb"),s=i("kYp3"),b=i("fXoL"),l=i("JqCM"),d=i("tk/3"),m=i("jhN1"),p=i("dlU0"),f=i("bZwt"),g=i("ONAA"),h=i("1tD9");function u(t,e){if(1&t){const t=b.Sb();b.Rb(0,"div",12),b.Rb(1,"div",2),b.Rb(2,"button",13),b.cc("click",function(){return b.Ac(t),b.ec().exportReport()}),b.Nb(3,"i",14),b.Qb(),b.Qb(),b.Rb(4,"div",2),b.Rb(5,"button",15),b.cc("click",function(){return b.Ac(t),b.ec().printReport()}),b.Nb(6,"i",16),b.Qb(),b.Qb(),b.Nb(7,"div",6),b.Qb()}}function v(t,e){if(1&t&&(b.Rb(0,"div"),b.Rb(1,"strong"),b.Ic(2,"Participante:"),b.Qb(),b.Ic(3),b.Qb()),2&t){const t=b.ec();b.yb(3),b.Kc(" ",t.object.a1_name," ")}}function R(t,e){if(1&t&&(b.Rb(0,"div"),b.Rb(1,"strong"),b.Ic(2,"Evento:"),b.Qb(),b.Ic(3),b.Qb()),2&t){const t=b.ec();b.yb(3),b.Kc(" ",t.object.name," ")}}function y(t,e){1&t&&b.Nb(0,"i",44)}function Q(t,e){1&t&&b.Nb(0,"i",45)}function j(t,e){if(1&t&&(b.Rb(0,"tr",21),b.Nb(1,"td",38),b.Rb(2,"td",39),b.Gc(3,y,1,0,"i",40),b.Gc(4,Q,1,0,"i",41),b.Nb(5,"span",42),b.Qb(),b.Nb(6,"td",43),b.Qb()),2&t){const t=e.$implicit;b.yb(1),b.jc("innerHtml",t.a7_controltime,b.Bc),b.yb(2),b.jc("ngIf",t.a8_confirmated),b.yb(1),b.jc("ngIf",!t.a8_confirmated),b.yb(1),b.jc("innerHtml",t.a8_confirmated?"Sim":"N\xe3o",b.Bc)}}function _(t,e){if(1&t&&(b.Rb(0,"table",25),b.Rb(1,"thead",19),b.Rb(2,"tr"),b.Rb(3,"th",26),b.Ic(4),b.Qb(),b.Qb(),b.Qb(),b.Rb(5,"tbody"),b.Rb(6,"tr",21),b.Rb(7,"td",27),b.Ic(8," Data e Hora "),b.Qb(),b.Rb(9,"td",28),b.Ic(10," Confirmou Presen\xe7a "),b.Qb(),b.Nb(11,"td",29),b.Nb(12,"td",30),b.Nb(13,"td",29),b.Qb(),b.Gc(14,j,7,4,"tr",31),b.Rb(15,"tr",32),b.Rb(16,"td",33),b.Ic(17," Total de Solicita\xe7\xf5es de Confirma\xe7\xe3o de Presen\xe7a "),b.Qb(),b.Nb(18,"td",34),b.Qb(),b.Rb(19,"tr",35),b.Rb(20,"td",33),b.Ic(21," Solicita\xe7\xf5es Confirmadas "),b.Qb(),b.Nb(22,"td",34),b.Qb(),b.Rb(23,"tr",32),b.Rb(24,"td",33),b.Ic(25," Ass\xedduidade (%) durante a sess\xe3o "),b.Rb(26,"span",36),b.Ic(27,"*"),b.Qb(),b.Qb(),b.Nb(28,"td",37),b.Qb(),b.Qb(),b.Qb()),2&t){const t=e.$implicit;b.yb(4),b.Kc(" ",t.label," "),b.yb(10),b.jc("ngForOf",t.data),b.yb(4),b.jc("innerHtml",t.summary.total,b.Bc),b.yb(4),b.jc("innerHtml",t.summary.confirmations,b.Bc),b.yb(6),b.jc("innerHtml",t.summary.assertivity,b.Bc)}}function I(t,e){if(1&t&&(b.Rb(0,"table",18),b.Rb(1,"thead",19),b.Rb(2,"tr"),b.Rb(3,"th",20),b.Ic(4),b.Qb(),b.Qb(),b.Qb(),b.Rb(5,"tbody"),b.Rb(6,"tr",21),b.Nb(7,"td",22),b.Rb(8,"td",23),b.Gc(9,_,29,5,"table",24),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&t){const t=e.$implicit;b.yb(4),b.Kc(" ",t.label," "),b.yb(5),b.jc("ngForOf",t.data)}}function S(t,e){if(1&t&&(b.Rb(0,"div"),b.Gc(1,I,10,2,"table",17),b.Qb()),2&t){const t=b.ec(2);b.yb(1),b.jc("ngForOf",t.reportData)}}function C(t,e){if(1&t&&b.Gc(0,S,2,1,"div",9),2&t){const t=b.ec();b.jc("ngIf",t.reportData)}}function N(t,e){1&t&&b.Nb(0,"i",44)}function w(t,e){1&t&&b.Nb(0,"i",45)}function D(t,e){if(1&t&&(b.Rb(0,"tr",21),b.Nb(1,"td",38),b.Rb(2,"td",39),b.Gc(3,N,1,0,"i",48),b.Gc(4,w,1,0,"i",49),b.Nb(5,"span",42),b.Qb(),b.Nb(6,"td",43),b.Qb()),2&t){const t=e.$implicit;b.yb(1),b.jc("innerHtml",t.a7_controltime,b.Bc),b.yb(2),b.jc("ngIf",t.a8_confirmated),b.yb(1),b.jc("ngIf",!t.a8_confirmated),b.yb(1),b.jc("innerHtml",t.a8_confirmated?"Sim":"N\xe3o",b.Bc)}}function k(t,e){if(1&t&&(b.Rb(0,"table",25),b.Rb(1,"thead",19),b.Rb(2,"tr"),b.Rb(3,"th",47),b.Ic(4),b.Qb(),b.Qb(),b.Qb(),b.Rb(5,"tbody"),b.Rb(6,"tr",21),b.Rb(7,"td",27),b.Ic(8," Data e Hora "),b.Qb(),b.Rb(9,"td",28),b.Ic(10," Confirmou Presen\xe7a "),b.Qb(),b.Nb(11,"td",29),b.Nb(12,"td",30),b.Nb(13,"td",29),b.Qb(),b.Gc(14,D,7,4,"tr",31),b.Rb(15,"tr",32),b.Rb(16,"td",33),b.Ic(17," Total de Solicita\xe7\xf5es de Confirma\xe7\xe3o de Presen\xe7a "),b.Qb(),b.Nb(18,"td",34),b.Qb(),b.Rb(19,"tr",35),b.Rb(20,"td",33),b.Ic(21," Solicita\xe7\xf5es Confirmadas "),b.Qb(),b.Nb(22,"td",34),b.Qb(),b.Rb(23,"tr",32),b.Rb(24,"td",33),b.Ic(25," Ass\xedduidade (%) durante a sess\xe3o "),b.Rb(26,"span",36),b.Ic(27,"*"),b.Qb(),b.Qb(),b.Nb(28,"td",37),b.Qb(),b.Qb(),b.Qb()),2&t){const t=e.$implicit;b.yb(4),b.Kc(" ",t.label," "),b.yb(10),b.jc("ngForOf",t.data),b.yb(4),b.jc("innerHtml",t.summary.total,b.Bc),b.yb(4),b.jc("innerHtml",t.summary.confirmations,b.Bc),b.yb(6),b.jc("innerHtml",t.summary.assertivity,b.Bc)}}function F(t,e){if(1&t&&(b.Rb(0,"table",25),b.Rb(1,"thead",19),b.Rb(2,"tr"),b.Rb(3,"th",46),b.Ic(4),b.Qb(),b.Qb(),b.Qb(),b.Rb(5,"tbody"),b.Rb(6,"tr",21),b.Nb(7,"td",22),b.Rb(8,"td",23),b.Gc(9,k,29,5,"table",24),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&t){const t=e.$implicit;b.yb(4),b.Kc(" ",t.label," "),b.yb(5),b.jc("ngForOf",t.data)}}function P(t,e){if(1&t&&(b.Rb(0,"table",18),b.Rb(1,"thead",19),b.Rb(2,"tr"),b.Rb(3,"th",20),b.Ic(4),b.Qb(),b.Qb(),b.Qb(),b.Rb(5,"tbody"),b.Rb(6,"tr",21),b.Nb(7,"td",22),b.Rb(8,"td",23),b.Gc(9,F,10,2,"table",24),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&t){const t=e.$implicit;b.yb(4),b.Kc(" ",t.label," "),b.yb(5),b.jc("ngForOf",t.data)}}function T(t,e){if(1&t&&(b.Rb(0,"div"),b.Gc(1,P,10,2,"table",17),b.Qb()),2&t){const t=b.ec(2);b.yb(1),b.jc("ngForOf",t.reportData)}}function H(t,e){if(1&t&&b.Gc(0,T,2,1,"div",9),2&t){const t=b.ec();b.jc("ngIf",t.reportData)}}function O(t,e){1&t&&(b.Rb(0,"div",50),b.Rb(1,"div",51),b.Ic(2," * Considerando-se apenas as solicita\xe7\xf5es de confirma\xe7\xe3o de presen\xe7a efetuadas pelo sistema. O participante pode ter perdido a conex\xe3o e acessado o conte\xfado novamente gerando nova sess\xe3o por exemplo (ou fechado o navegador, ou navegado por outras p\xe1ginas e/ou conte\xfados do sistema, entre outras situa\xe7\xf5es). Fica a cargo da organiza\xe7\xe3o realizar a an\xe1lise dos dados e definir a real ass\xedduidade do participante, para cada uma das atividades. "),b.Qb(),b.Qb())}const B=[{path:"",component:(()=>{class t extends s.a{constructor(t,e,i,a,n,o,r,c,s,b,l){super(t,e,i,a,n,o,r,c,s,b,l)}ngOnInit(){this.setInitializationServices(["conferencistvalidationpoint","appointmentpage"]),this.crudService=this.cconconferencistvalidationpointService,this.object=this.storageService.get()[0],this.origin=this.storageService.get()[1],this.sucessErrorMessages={},this.listTitle="Relat\xf3rio de Controle Acesso/Confirma\xe7\xe3o Presen\xe7a",this.dataForm=new n.f({}),super.ngOnInit()}afterNgOnInit(){}afterListData(){"conferencist"==this.origin&&this.prepareDataForConferencistReport(),"appointmentpage"==this.origin&&this.prepareDataForAppointmentPageReport(),this.setProcessing(!1)}ngOnDestroy(){this.object=null,this.origin=null,this.reportData=null,super.ngOnDestroy()}getAdditionalConditions(){if(this.selectedPage=-1,this.rowsPerPage=-1,"conferencist"==this.origin)return" xoo a2_conferencistid = "+this.object.id+" "+super.getAdditionalConditions();if("appointmentpage"==this.origin){var t=" xoo created_at >= '"+this.object.start+"' ";return t+=" xoo created_at <= '"+this.object.finish+"' ",(t+=" xoo a6_appointmentpageid = "+this.object.id)+" "+super.getAdditionalConditions()}return" "+super.getAdditionalConditions()}makeSelectSearchedItemDestaked(t,e){return t}prepareData(t){return t.alreadyPrepared||(t.alreadyPrepared=!0,t.a7_controltime=this.dateService.dateToFormWhitTime(t.a7_controltime),t.a11_pagemenuitemdisponibilitystart=this.dateService.dateToFormWhitTime(t.a11_pagemenuitemdisponibilitystart),t.a12_pagemenuitemdisponibilityfinish=this.dateService.dateToFormWhitTime(t.a12_pagemenuitemdisponibilityfinish)),t}backToOrigin(){this.crudService.getStorageService().clear(),"conferencist"==this.origin&&this.appointmentPageService.load(this.object.a11_appointmentpageid).then(t=>{this.processObjectAndValidationResult(t,!0)&&this.eventEmitterService.get("conconferencists").emit({object:t})}),"appointmentpage"==this.origin&&this.eventEmitterService.get("appointmentpages").emit({})}prepareDataForConferencistReport(){for(var t=[],e=[],i=this.objects.length,a=0;a<i;a++)e.includes(this.objects[a].a4_pagemenuitemid)||(e=[...e,this.objects[a].a4_pagemenuitemid]),t.includes(this.objects[a].a9_serial)||(t=[...t,this.objects[a].a9_serial]);var n=e.length,o=t.length,r=[];for(a=0;a<n;a++){for(var c=[],s=0;s<o;s++)c=this.getSerialData(c,e[a],null,t[s]);if(0!=c.length){var b=c[0].data[0],l="";this.emptyString(b.a11_pagemenuitemdisponibilitystart)||this.emptyString(b.a12_pagemenuitemdisponibilityfinish)||(l+=b.a11_pagemenuitemdisponibilitystart+" \xe0 ",l+=b.a12_pagemenuitemdisponibilityfinish,l+=" - ");var d={label:l+=b.a3_pagemenuitemname,data:c};r=[...r,d]}}this.reportData=r}prepareDataForAppointmentPageReport(){for(var t=[],e=[],i=[],a=this.objects.length,n=0;n<a;n++){i.includes(this.objects[n].a4_pagemenuitemid)||(i=[...i,this.objects[n].a4_pagemenuitemid]),e.includes(this.objects[n].a9_serial)||(e=[...e,this.objects[n].a9_serial]);var o=this.objects[n].a1_conferencistname.replace(/ /gi,"").toLowerCase();t.includes(o+="|"+this.objects[n].a2_conferencistid)||(t=[...t,o])}var r=i.length,c=t.length,s=e.length;t=t.sort();var b=[];for(n=0;n<c;n++)b=[...b,parseInt(t[n].split("|")[1])];var l=[];for(n=0;n<r;n++){for(var d=[],m=0;m<c;m++){for(var p=[],f=0;f<s;f++)p=this.getSerialData(p,i[n],b[m],e[f]);if(0!=p.length){var g="Participante: "+p[0].data[0].a1_conferencistname;d=[...d,{label:g,data:p}]}}if(0!=d.length){var h=d[0].data[0].data[0];g=h.a11_pagemenuitemdisponibilitystart+" \xe0 ",g+=h.a12_pagemenuitemdisponibilityfinish;var u={label:g+=" - "+h.a3_pagemenuitemname,data:d};l=[...l,u]}}this.reportData=l}getSerialData(t,e,i,a){for(var n=[],o=0,r=this.objects.length,c=0;c<r;c++)null!=i&&this.objects[c].a2_conferencistid!=i||this.objects[c].a9_serial==a&&this.objects[c].a4_pagemenuitemid==e&&(n=[...n,this.objects[c]],o+=this.objects[c].a8_confirmated?1:0);return 0!=n.length&&(t=[...t,this.getSerialObject(o,n)]),t}getSerialObject(t,e){var i=this.mathService.formatNumber(t/e.length*100,2,".");return i=(""+i).replace(".",","),{label:"Sess\xe3o de Acesso: "+e[0].a9_serial,data:e,summary:{total:e.length,confirmations:t,assertivity:i}}}printReport(){var t="<h2>Relat\xf3rio de Controle Acesso/Confirma\xe7\xe3o Presen\xe7a</h2>";t+=document.getElementById("conconferencistvalidationpointreport").innerHTML,this.eventEmitterService.get("printHtml").emit({html:t})}exportReport(){var t="rel_ctrl_presenca_",e="Relat\xf3rio de Controle Acesso/Confirma\xe7\xe3o Presen\xe7a;";e+=";";var i,a=this.reportData.length;if("conferencist"==this.origin){(i=this.object.a1_name.replace(/ /gi,"").toLowerCase()).length>20&&(i=i.slice(0,20)),t+="participante_"+i+"_",e+="Participante: "+this.object.a1_name+";",e+=";";for(var n=0;n<a;n++){e+=(c=this.reportData[n]).label+";";for(var o=c.data.length,r=0;r<o;r++)e+=this.getCsvSerialDataRows(",",c.data[r])}}if("appointmentpage"==this.origin)for((i=this.object.name.replace(/ /gi,"").toLowerCase()).length>20&&(i=i.slice(0,20)),t+="evento_"+i+"_",e+="Evento: "+this.object.name+";",e+=";",n=0;n<a;n++){var c;for(e+=(c=this.reportData[n]).label+";",o=c.data.length,r=0;r<o;r++){var s=c.data[r];e+=","+s.label+";";for(var b=s.data.length,l=0;l<b;l++)e+=this.getCsvSerialDataRows(",,",s.data[l])}}t+=this.stringService.generateCode3(3)+".csv",this.eventEmitterService.get("exportCSV").emit({csv:e,filename:t})}getCsvSerialDataRows(t,e){var i="";i+=t+e.label+";",i+=t+"Data e Hora,Confirmou Presen\xe7a;";for(var a=e.data.length,n=0;n<a;n++)i+=t+e.data[n].a7_controltime+",",i+=(e.data[n].a8_confirmated?"Sim":"N\xe3o")+";";return i+=t+"Total de Solicita\xe7\xf5es de Confirma\xe7\xe3o de Presen\xe7a,",i+=e.summary.total+";",i+=t+"Solicita\xe7\xf5es Confirmadas,",i+=e.summary.confirmations+";",i+=t+"Ass\xedduidade (%) durante a sess\xe3o,",(i+=e.summary.assertivity.replace(",",".")+";")+";"}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(o.g),b.Mb(l.c),b.Mb(o.a),b.Mb(d.a),b.Mb(c.b),b.Mb(c.a),b.Mb(m.c),b.Mb(p.a),b.Mb(f.a),b.Mb(g.a),b.Mb(h.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["cconconferencistvalidationpoint-root"]],features:[b.vb],decls:19,vars:7,consts:[["aria-label","navega\xe7\xe3o e filtros"],[1,"searchForm"],[1,"field"],["placement","right","ngbTooltip","Voltar para lista de origem","aria-label","Voltar para lista de origem","type","button",1,"btn","btn-primary","clickable","formHeaderButton",3,"click"],[1,"fas","fa-arrow-left"],["style","float: right; margin-right: 0.3em;",4,"ngIf"],[1,"clear"],["id","conconferencistvalidationpointreport"],[2,"padding",".8em 0 .4em 1.3em"],[4,"ngIf"],[3,"ngIf"],[1,"clear",2,"margin-bottom","2em"],[2,"float","right","margin-right","0.3em"],["placement","left","ngbTooltip","Exportar para arquivo CSV","aria-label","Exportar para arquivo CSV","type","button",1,"btn","btn-primary","clickable","formHeaderButton",3,"click"],[1,"fas","fa-file-csv"],["placement","left","ngbTooltip","Imprimir","aria-label","Imprimir","type","button",1,"btn","btn-primary","clickable","formHeaderButton",3,"click"],[1,"fas","fa-print"],["class","table","mdbTable","","style","font-size: 1rem; width: 96%; margin: .3em auto !important;",4,"ngFor","ngForOf"],["mdbTable","",1,"table",2,"font-size","1rem","width","96%","margin",".3em auto !important"],[1,"black","white-text"],["scope","col","colspan","2",1,"text",2,"padding-left","1.5em !important","background","#ccc","font-size",".9rem"],["mdbTableCol",""],[1,"noBorderRight",2,"width","1em"],[1,"noBorderRight"],["class","table","style","font-size: 1rem;","mdbTable","",4,"ngFor","ngForOf"],["mdbTable","",1,"table",2,"font-size","1rem"],["scope","col","colspan","10",1,"text",2,"padding-left","1.5em !important","background","#ddd","font-size",".8rem"],[2,"width","13em","padding-left","1.5em !important","font-weight","600"],[2,"width","15em","font-weight","600"],[2,"width","4em"],["colspan","6",1,"noBorderRight",2,"width","auto"],["mdbTableCol","",4,"ngFor","ngForOf"],["mdbTableCol","",2,"background","#cde2d7"],["colspan","9",1,"text",2,"padding-left","1.5em !important","font-weight","600"],["colspan","1",1,"number","noBorderRight",2,"padding-right","1em !important","font-weight","600",3,"innerHtml"],["mdbTableCol","",2,"background","#e8f3ed"],[1,"noPrint"],["colspan","1",1,"number","noBorderRight",2,"padding-right","1em!important","font-weight","600",3,"innerHtml"],[1,"number",3,"innerHtml"],[1,"text","noBorderRight"],["class","fas fa-check-circle","style","margin-left: .5em; color: #09a750; font-size: 1.3em;",4,"ngIf"],["class","fas fa-ban","style","margin-left: .5em; color: #ff3c00; font-size: 1.28em;",4,"ngIf"],[2,"margin-left",".5em",3,"innerHtml"],["colspan","8",1,"noBorderRight"],[1,"fas","fa-check-circle",2,"margin-left",".5em","color","#09a750","font-size","1.3em"],[1,"fas","fa-ban",2,"margin-left",".5em","color","#ff3c00","font-size","1.28em"],["scope","col","colspan","2",1,"text",2,"padding-left","1.5em !important","background","#ddd","font-size",".9rem"],["scope","col","colspan","10",1,"text",2,"padding-left","1.5em !important","background","#eee","font-size",".8rem"],["class","fas fa-check-circle","style","margin-left: .5em; color: #09a750; \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t              font-size: 1.3em;",4,"ngIf"],["class","fas fa-ban","style","margin-left: .5em; color: #ff3c00; \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t              font-size: 1.28em;",4,"ngIf"],[1,"dataForm","noPrint"],[1,"alert-info"]],template:function(t,e){1&t&&(b.Rb(0,"nav",0),b.Rb(1,"div",1),b.Rb(2,"div",2),b.Rb(3,"button",3),b.cc("click",function(){return e.backToOrigin()}),b.Nb(4,"i",4),b.Qb(),b.Qb(),b.Rb(5,"div",2),b.Rb(6,"h5"),b.Rb(7,"span"),b.Ic(8),b.Qb(),b.Qb(),b.Qb(),b.Gc(9,u,8,0,"div",5),b.Qb(),b.Nb(10,"div",6),b.Qb(),b.Rb(11,"div",7),b.Rb(12,"div",8),b.Gc(13,v,4,1,"div",9),b.Gc(14,R,4,1,"div",9),b.Qb(),b.Gc(15,C,1,1,"ng-template",10),b.Gc(16,H,1,1,"ng-template",10),b.Gc(17,O,3,0,"ng-template",10),b.Qb(),b.Nb(18,"div",11)),2&t&&(b.yb(8),b.Jc(e.title),b.yb(1),b.jc("ngIf",!e.emptyArray(e.reportData)),b.yb(4),b.jc("ngIf","conferencist"==e.origin),b.yb(1),b.jc("ngIf","appointmentpage"==e.origin),b.yb(1),b.jc("ngIf","conferencist"==e.origin),b.yb(1),b.jc("ngIf","appointmentpage"==e.origin),b.yb(1),b.jc("ngIf",!e.emptyArray(e.reportData)))},directives:[o.i,a.j,a.i],encapsulation:2}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({imports:[[c.c.forChild(B)],c.c]}),t})();var G=i("kS8M");let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({imports:[[a.b,n.h,n.q,o.h,r.a.forRoot(),A,G.a]]}),t})()}}]);