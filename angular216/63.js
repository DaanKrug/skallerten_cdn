(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{"2nYb":function(e,t,i){"use strict";i.r(t),i.d(t,"S3ConfigAppointmentPageModule",function(){return q});var a=i("ofXK"),n=i("3Pt+"),o=i("1kSV"),c=i("tyNb"),r=i("kYp3"),s=i("fXoL"),l=i("JqCM"),u=i("tk/3"),b=i("jhN1"),d=i("dlU0"),m=i("bZwt"),g=i("ONAA"),f=i("1tD9"),p=i("zT7k"),h=i("ZMR0"),j=i("n/9U"),S=i("fcMv"),k=i("Ca8N"),R=i("/eUb");function E(e,t){if(1&e){const e=s.Sb();s.Rb(0,"section",7),s.Rb(1,"form",8),s.cc("ngSubmit",function(){return s.Ac(e),s.ec().onObjectFormSubmit()}),s.Rb(2,"div"),s.Nb(3,"rich-input-text",9),s.Nb(4,"rich-input-text",10),s.Nb(5,"rich-input-text",11),s.Nb(6,"rich-input-text",12),s.Nb(7,"rich-input-text",13),s.Nb(8,"rich-input-text",14),s.Qb(),s.Rb(9,"form-action",15),s.cc("cancelDataEmitter",function(){return s.Ac(e),s.ec().cancelData()}),s.Qb(),s.Qb(),s.Qb()}if(2&e){const e=s.ec();s.yb(1),s.jc("formGroup",e.dataForm),s.yb(2),s.jc("formGroup",e.dataForm),s.yb(1),s.jc("formGroup",e.dataForm),s.yb(1),s.jc("formGroup",e.dataForm),s.yb(1),s.jc("formGroup",e.dataForm),s.yb(1),s.jc("formGroup",e.dataForm),s.yb(1),s.jc("formGroup",e.dataForm),s.yb(1),s.jc("validationMessages",e.validationMessages)("processValidation",e.processValidation)("additionalMsgsInfo",e.formInfo)}}function O(e,t){1&e&&(s.Rb(0,"th",28),s.Ic(1," A\xe7\xf5es "),s.Qb())}function y(e,t){1&e&&(s.Rb(0,"th",29),s.Ic(1," A\xe7\xf5es "),s.Qb())}const v=function(){return["admin_master"]},A=function(){return["admin"]};function D(e,t){if(1&e){const e=s.Sb();s.Rb(0,"tr",30),s.Rb(1,"td",31),s.Nb(2,"div",32),s.Nb(3,"div",32),s.Qb(),s.Nb(4,"td",33),s.Rb(5,"td",34),s.Rb(6,"div",35),s.Rb(7,"edit-delete-action",36),s.cc("showObjectEmitter",function(t){return s.Ac(e),s.ec(3).showObject(t)})("lockEmitter",function(t){return s.Ac(e),s.ec(3).lock(t)})("unlockEmitter",function(t){return s.Ac(e),s.ec(3).unlock(t)})("showObjectEmitter",function(t){return s.Ac(e),s.ec(3).showObject(t)})("editObjectEmitter",function(t){return s.Ac(e),s.ec(3).editObject(t)})("deleteObjectEmitter",function(t){return s.Ac(e),s.ec(3).deleteObject(t)})("unDeleteObjectEmitter",function(t){return s.Ac(e),s.ec(3).unDeleteObject(t)}),s.Qb(),s.Qb(),s.Qb(),s.Qb()}if(2&e){const e=t.$implicit,i=s.ec(3),a=s.yc(9),n=s.yc(11),o=s.yc(7);s.yb(2),s.jc("innerHtml",e.bucketName,s.Bc),s.yb(1),s.jc("innerHtml",e.region,s.Bc),s.yb(1),s.jc("innerHtml",e.bucketUrl,s.Bc),s.yb(3),s.jc("auditingExclusions",i.auditingExclusions)("object",e)("logged",i.logged)("noAction",!s.oc(11,v).includes(i.logged.category)&&!(s.oc(12,A).includes(i.logged.category)&&i.permissions.includes("appointmentpage_write"))||i.hasS3Files)("objectDeleteConfirmation",a)("objectUnDeleteConfirmation",n)("objectDetail",o)("lockUnLock",!0)}}function P(e,t){1&e&&(s.Rb(0,"tr",30),s.Rb(1,"td",37),s.Rb(2,"em"),s.Ic(3," O evento j\xe1 possui uma ou mais submiss\xe3o(\xf5es) de trabalho/artigos com arquivos, deste modo n\xe3o \xe9 mais poss\xedvel alterar, excluir ou incluir configura\xe7\xe3o(\xf5es) de upload de arquivos para o AWS S3. "),s.Qb(),s.Qb(),s.Qb())}function I(e,t){if(1&e){const e=s.Sb();s.Rb(0,"table",18),s.Rb(1,"thead",19),s.Rb(2,"tr"),s.Rb(3,"th",20),s.Ic(4," Bucket + Region "),s.Qb(),s.Rb(5,"th",21),s.Ic(6," Bucket URL "),s.Qb(),s.Gc(7,O,2,0,"th",22),s.Gc(8,y,2,0,"th",23),s.Qb(),s.Qb(),s.Rb(9,"tbody"),s.Gc(10,D,8,13,"tr",24),s.Gc(11,P,4,0,"tr",25),s.Rb(12,"tr"),s.Rb(13,"td",26),s.Rb(14,"table-navigator",27),s.cc("previousPageEmitter",function(){return s.Ac(e),s.ec(2).previousPage()})("setPageEmitter",function(t){return s.Ac(e),s.ec(2).setPage(t)})("nextPageEmitter",function(){return s.Ac(e),s.ec(2).nextPage()})("adjustPaginationEmitter",function(t){return s.Ac(e),s.ec(2).adjustPagination(t)}),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb()}if(2&e){const e=s.ec(2);s.yb(7),s.jc("ngIf",!e.auditingExclusions),s.yb(1),s.jc("ngIf",e.auditingExclusions),s.yb(2),s.jc("ngForOf",e.objects)("ngForTrackBy",e.trackById),s.yb(1),s.jc("ngIf",e.hasS3Files),s.yb(3),s.jc("pages",e.pages)("selectedPage",e.selectedPage)("previousPageDisabled",e.previousPageDisabled)("nextPageDisabled",e.nextPageDisabled)("rowsPerPage",e.rowsPerPage)("pageRange",e.pageRange)("totalPages",e.totalPages)("totalRows",e.totalRows)("useAdjustPagination",!0)}}function w(e,t){if(1&e&&(s.Rb(0,"section",16),s.Gc(1,I,15,14,"table",17),s.Qb()),2&e){const e=s.ec();s.yb(1),s.jc("ngIf",e.objects)}}function Q(e,t){if(1&e&&(s.Rb(0,"tr"),s.Rb(1,"th",38),s.Ic(2," Bucket Name: "),s.Qb(),s.Rb(3,"td",39),s.Ic(4),s.Qb(),s.Qb(),s.Rb(5,"tr"),s.Rb(6,"th",40),s.Ic(7," Bucket URL: "),s.Qb(),s.Rb(8,"td",39),s.Ic(9),s.Qb(),s.Qb(),s.Rb(10,"tr"),s.Rb(11,"th",40),s.Ic(12," Region: "),s.Qb(),s.Rb(13,"td",39),s.Ic(14),s.Qb(),s.Qb(),s.Rb(15,"tr"),s.Rb(16,"th",40),s.Ic(17," Version: "),s.Qb(),s.Rb(18,"td",39),s.Ic(19),s.Qb(),s.Qb(),s.Rb(20,"tr"),s.Rb(21,"th",40),s.Ic(22," Key: "),s.Qb(),s.Rb(23,"td",39),s.Ic(24," ****************************** "),s.Qb(),s.Qb(),s.Rb(25,"tr"),s.Rb(26,"th",40),s.Ic(27," Secret: "),s.Qb(),s.Rb(28,"td",39),s.Ic(29," ****************************** "),s.Qb(),s.Qb()),2&e){const e=s.ec();s.yb(4),s.Kc(" ",e.selectedObject.bucketName," "),s.yb(5),s.Kc(" ",e.selectedObject.bucketUrl," "),s.yb(5),s.Kc(" ",e.selectedObject.region," "),s.yb(5),s.Kc(" ",e.selectedObject.version," ")}}function x(e,t){if(1&e){const e=s.Sb();s.Rb(0,"delete-confirmation",41),s.cc("cancelDataEmitter",function(){return s.Ac(e),s.ec().showObject()}),s.Qb()}if(2&e){const e=s.ec(),t=s.yc(5);s.jc("selectedObject",e.selectedObject)("templateOutlet",t)}}function C(e,t){if(1&e){const e=s.Sb();s.Rb(0,"delete-confirmation",42),s.cc("confirmDeleteObjectEmitter",function(t){return s.Ac(e),s.ec().confirmDeleteObject(t)})("cancelDataEmitter",function(){return s.Ac(e),s.ec().cancelData()}),s.Qb()}if(2&e){const e=s.ec(),t=s.yc(5);s.jc("selectedObject",e.selectedObject)("auditingExclusions",e.auditingExclusions)("templateOutlet",t)}}function N(e,t){if(1&e){const e=s.Sb();s.Rb(0,"delete-confirmation",43),s.cc("confirmDeleteObjectEmitter",function(t){return s.Ac(e),s.ec().confirmUnDeleteObject(t)})("cancelDataEmitter",function(){return s.Ac(e),s.ec().cancelData()}),s.Qb()}if(2&e){const e=s.ec(),t=s.yc(5);s.jc("selectedObject",e.selectedObject)("auditingExclusions",e.auditingExclusions)("templateOutlet",t)}}const F=function(){return["admin_master","admin","system_auditor"]},M=[{path:"",component:(()=>{class e extends r.a{constructor(e,t,i,a,n,o,c,r,s,l,u){super(e,t,i,a,n,o,c,r,s,l,u)}ngOnInit(){this.setInitializationServices(["s3configappointmentpage","submissionfile"]),this.crudService=this.s3ConfigAppointmentPageService,this.appointmentPage=this.storageService.get()[0],this.storageService.localStorageSetItem("_appointmentPageId_"+this.getAppId(),this.appointmentPage.id,!1),this.sucessErrorMessages={200:"Configura\xe7\xe3o AWS S3 adicionada com sucesso.",201:"Configura\xe7\xe3o AWS S3 alterada com sucesso.",2010:"Configura\xe7\xe3o AWS S3 inativada com sucesso.",2011:"Configura\xe7\xe3o AWS S3 ativada com sucesso.",204:"Configura\xe7\xe3o AWS S3 exclu\xedda com sucesso.",207:"Configura\xe7\xe3o AWS S3 restaurada com sucesso.",208:"Configura\xe7\xe3o AWS S3 exclu\xedda [PERMANENTE] com sucesso."},this.listTitle="Configura\xe7\xf5es AWS S3",this.addTitle="Adicionar Configura\xe7\xe3o AWS S3",this.editTitle="Editar Configura\xe7\xe3o AWS S3",this.formInfo=["** Requerido para criar configura\xe7\xe3o. Em branco mant\xe9m o valor atual."],this.dataForm=new n.f({bucketName:new n.c("",[n.s.required]),bucketUrl:new n.c("",[n.s.required]),region:new n.c("",[n.s.required]),version:new n.c("",[n.s.required]),key:new n.c("",[n.s.required]),secret:new n.c("",[n.s.required])}),this.verifyHasS3Files(),super.ngOnInit()}afterNgOnInit(){this.parameterName="bucketName/bucketUrl/region/keyy/secret"}ngOnDestroy(){this.storageService.localStorageRemoveItem("_appointmentPageId_"+this.getAppId()),this.appointmentPage=null,this.hasS3Files=null,super.ngOnDestroy()}verifyHasS3Files(){this.hasS3Files=!1;var e=" xoo appointmentPageId = "+this.appointmentPage.id;this.submissionFileService.invalidateCache(),this.submissionFileService.getAll(1,1,e).then(e=>{e=this.clearRowZeroObjectsValidated(e),this.hasS3Files=e.length>0})}getAdditionalConditions(){return" xoo appointmentPageId = "+this.appointmentPage.id+" "+super.getAdditionalConditions()}setObject(e){super.setObject(e),this.dataForm.setValue({bucketName:e.bucketName,bucketUrl:e.bucketUrl,region:e.region,version:e.version,key:e.key,secret:e.secret})}prepareToSaveUpdate(e){return e.appointmentPageId=this.appointmentPage.id,e}makeSelectSearchedItemDestaked(e,t){return e.bucketName=this.makeDestak(e.bucketName,t),e.bucketUrl=this.makeDestak(e.bucketUrl,t),e.region=this.makeDestak(e.region,t),e.key=this.makeDestak(e.key,t),e.secret=this.makeDestak(e.secret,t),e}validateFormFields(){return this.errorRequired("bucketName")&&this.addValidationMessage("Bucket Name \xe9 requerido!"),this.errorRequired("bucketUrl")&&this.addValidationMessage("Bucket URL \xe9 requerida!"),this.errorRequired("region")&&this.addValidationMessage("Region \xe9 requerida!"),this.emptyObject(this.idObjectEdit)&&this.errorRequired("key")&&this.addValidationMessage("Key \xe9 requerida!"),this.emptyObject(this.idObjectEdit)&&this.errorRequired("secret")&&this.addValidationMessage("Secret \xe9 requerida!"),this.errorRequired("version")&&this.addValidationMessage("Version \xe9 requerida!"),!this.inValidationMsgs()}preValidateToSaveUpdate(e){return this.emptyObject(this.appointmentPage)&&this.addValidationMessage("Evento/Atividade &eacute; requerido!"),!this.inValidationMsgs()}backToOrigin(){this.storageService.localStorageRemoveItem("_appointmentPageId_"+this.getAppId()),this.storageService.clear(),this.eventEmitterService.get("appointmentpages").emit({})}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(o.g),s.Mb(l.c),s.Mb(o.a),s.Mb(u.a),s.Mb(c.b),s.Mb(c.a),s.Mb(b.c),s.Mb(d.a),s.Mb(m.a),s.Mb(g.a),s.Mb(f.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["s3configappointmentpage-root"]],features:[s.vb],decls:12,vars:12,consts:[[3,"title","editing","searchForm","auditingExclusions","enabledAuditList","disabledAddNew","backToOrigin","onSearchFormSubmitEmitter","listDataEmitter","listDataNoCacheEmitter","auditListEmitter","normalListEmitter","addObjectEmitter","backToOriginEmitter"],[3,"ngIf","ngIfElse"],["listObjects",""],["selectedObjectTemplate",""],["objectDetail",""],["objectDeleteConfirmation",""],["objectUnDeleteConfirmation",""],["aria-label","cadastro e altera\xe7\xe3o das configura\xe7\xf5es AWS S3 para o evento/atividade"],[1,"dataForm",3,"formGroup","ngSubmit"],["label","Bucket Name (*)","titlee","Bucket Name","maxchars","250","formControlName","bucketName","widthPerc","99","ngDefaultControl","",3,"formGroup"],["label","Bucket URL (*)","titlee","Bucket URL","maxchars","250","formControlName","bucketUrl","widthPerc","99","ngDefaultControl","",3,"formGroup"],["label","Region (*)","titlee","Region","maxchars","30","formControlName","region","widthPerc","19","ngDefaultControl","",3,"formGroup"],["label","Version (*)","titlee","Version","maxchars","30","formControlName","version","widthPerc","19","ngDefaultControl","",3,"formGroup"],["label","Key (**)","titlee","Key","maxchars","50","formControlName","key","widthPerc","19","ngDefaultControl","",3,"formGroup"],["label","Secret (**)","titlee","Secret","maxchars","100","formControlName","secret","widthPerc","40","ngDefaultControl","",3,"formGroup"],[3,"validationMessages","processValidation","additionalMsgsInfo","cancelDataEmitter"],["aria-label","lista das configura\xe7\xf5es AWS S3 do evento/atividade"],["class","table","mdbTable","",4,"ngIf"],["mdbTable","",1,"table"],[1,"black","white-text"],["scope","col",2,"width","10em"],["scope","col",2,"width","auto"],["scope","col","style","width: 9em;",4,"ngIf"],["scope","col","style","width: 5em;",4,"ngIf"],["mdbTableCol","",4,"ngFor","ngForOf","ngForTrackBy"],["mdbTableCol","",4,"ngIf"],["colspan","3",1,"navigationBottom"],[3,"pages","selectedPage","previousPageDisabled","nextPageDisabled","rowsPerPage","pageRange","totalPages","totalRows","useAdjustPagination","previousPageEmitter","setPageEmitter","nextPageEmitter","adjustPaginationEmitter"],["scope","col",2,"width","9em"],["scope","col",2,"width","5em"],["mdbTableCol",""],[1,"text"],[3,"innerHtml"],[1,"text",3,"innerHtml"],[1,"actions"],[1,"buttons"],[3,"auditingExclusions","object","logged","noAction","objectDeleteConfirmation","objectUnDeleteConfirmation","objectDetail","lockUnLock","showObjectEmitter","lockEmitter","unlockEmitter","editObjectEmitter","deleteObjectEmitter","unDeleteObjectEmitter"],["colspan","3",1,"text","navigationBottom"],["scope","row",1,"text",2,"width","8em"],[1,"text","noBorderRight"],["scope","row",1,"text"],["label","Configura\xe7\xe3o AWS S3","info","true",3,"selectedObject","templateOutlet","cancelDataEmitter"],["label","Configura\xe7\xe3o AWS S3",3,"selectedObject","auditingExclusions","templateOutlet","confirmDeleteObjectEmitter","cancelDataEmitter"],["label","Configura\xe7\xe3o AWS S3","redo","true",3,"selectedObject","auditingExclusions","templateOutlet","confirmDeleteObjectEmitter","cancelDataEmitter"]],template:function(e,t){if(1&e&&(s.Rb(0,"form-toolbar",0),s.cc("onSearchFormSubmitEmitter",function(){return t.onSearchFormSubmit()})("listDataEmitter",function(){return t.listData()})("listDataNoCacheEmitter",function(){return t.listDataNoCache()})("auditListEmitter",function(){return t.auditList()})("normalListEmitter",function(){return t.normalList()})("addObjectEmitter",function(){return t.addObject()})("backToOriginEmitter",function(){return t.backToOrigin()}),s.Qb(),s.Gc(1,E,10,10,"ng-template",1),s.Gc(2,w,2,1,"ng-template",null,2,s.Hc),s.Gc(4,Q,30,4,"ng-template",null,3,s.Hc),s.Gc(6,x,1,2,"ng-template",null,4,s.Hc),s.Gc(8,C,1,3,"ng-template",null,5,s.Hc),s.Gc(10,N,1,3,"ng-template",null,6,s.Hc)),2&e){const e=s.yc(3);s.jc("title",t.title)("editing",t.editing)("searchForm",t.searchForm)("auditingExclusions",t.auditingExclusions)("enabledAuditList",s.oc(9,F).includes(t.logged.category))("disabledAddNew",!s.oc(10,v).includes(t.logged.category)&&!(s.oc(11,A).includes(t.logged.category)&&t.permissions.includes("appointmentpage_write"))||t.hasS3Files)("backToOrigin",!0),s.yb(1),s.jc("ngIf",t.editing)("ngIfElse",e)}},directives:[p.a,a.j,n.t,n.n,n.g,h.a,n.m,n.e,n.b,j.a,a.i,S.a,k.a,R.a],encapsulation:2}),e})()}];let G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({imports:[[c.c.forChild(M)],c.c]}),e})();var U=i("kS8M");let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({imports:[[a.b,n.h,n.q,o.h,G,U.a]]}),e})()}}]);